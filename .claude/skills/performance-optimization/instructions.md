# Performance Optimization Instructions

## When to Use This Skill

Use this skill when you need to:
- Analyze application performance across the full stack
- Optimize TanStack Start SSR performance and caching
- Improve database query performance and indexing
- Reduce frontend bundle sizes and improve loading times
- Implement performance monitoring and optimization strategies

## How to Use

### Comprehensive Performance Audit
```
Perform a complete performance analysis of the full-stack application
```

### SSR Performance Optimization
```
Analyze and optimize the TanStack Start server-side rendering performance
```

### Database Performance Review
```
Review database query performance and suggest optimizations for indexes and queries
```

### Frontend Bundle Optimization
```
Analyze bundle sizes and optimize the frontend application for faster loading
```

## What the Skill Will Do

1. **Analyze Performance Metrics**: Measure key performance indicators across all layers
2. **Identify Bottlenecks**: Find performance issues and optimization opportunities
3. **Provide Specific Solutions**: Suggest concrete optimizations with code examples
4. **Prioritize Improvements**: Rank optimizations by impact and implementation effort
5. **Generate Performance Reports**: Create detailed performance analysis reports

## Key Performance Areas

### Server-Side Rendering (SSR)
- Time to First Byte (TTFB) analysis
- Route-based code splitting optimization
- Caching strategy implementation
- Hydration performance improvement
- Static data optimization

### API Layer Performance
- tRPC query optimization
- Response time analysis
- React Query caching strategies
- Payload size optimization
- Middleware performance tuning

### Database Performance
- Query execution analysis
- Index strategy recommendations
- Connection pooling optimization
- SQLite/Turso specific tuning
- Schema performance review

### Frontend Performance
- Bundle size analysis
- Code splitting effectiveness
- Component rendering optimization
- Asset loading optimization
- Core Web Vitals improvement

## Performance Targets

### Core Web Vitals
- LCP (Largest Contentful Paint): < 2.5s
- FID (First Input Delay): < 100ms
- CLS (Cumulative Layout Shift): < 0.1

### Application Metrics
- TTFB (Time to First Byte): < 600ms
- Bundle Size: Main bundle < 250KB gzipped
- Database Query Time: < 100ms average
- API Response Time: < 200ms

## Output Expectations

The skill will provide:
- Detailed performance analysis with specific metrics
- Optimization recommendations with code examples
- Prioritized improvement roadmap
- Performance benchmark comparisons
- Implementation guidance for optimizations

## Performance Optimization Best Practices

### 1. Measure First
- Establish performance baselines
- Use profiling tools and monitoring
- Track Core Web Vitals and application metrics
- Set realistic performance targets

### 2. Optimize Systematically
- Start with high-impact optimizations
- Focus on user-perceived performance
- Consider the full stack impact
- Balance performance with maintainability

### 3. Monitor Continuously
- Implement performance monitoring
- Set up alerts for performance degradation
- Regular performance audits and reviews
- Keep performance budgets and track against them

This skill helps ensure your application delivers optimal performance across all layers, providing the best possible user experience.